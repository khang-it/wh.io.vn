import{p as A,A as p,N as R,P as D,o as N,Q as j,i as z,x as F,y as H,z as O,g as m,m as _,h as Q,ag as c,j as V,l,X,_ as q}from"./index-DQAvgNzE.js";import{m as B}from"./DesktopLayout-BEU283Lx.js";import"./auth-DjkHlLh9.js";function S(E,n){A(n,!1);let I=p(n,"id",8),M=p(n,"tabs",24,()=>[]),r=p(n,"activeTabId",12);const s=new Map([]);function h(e,t){s.set(e,t)}function w(e){s.delete(e)}function b(e){s.delete(e),o.delete(e)}let o=new Map,i=_(null),d=_(!1),f=_(null);async function v(e){if(o.has(e))return o.get(e);const t=s.get(e);if(!t)throw new Error(`Component loader for type "${e}" not found`);const u=(await t()).default;return o.set(e,u),u}async function x(e){if(e){if(m(i)&&o.has(e)){l(i,o.get(e));return}l(d,!0),l(f,null),l(i,null);try{const t=s.get(e);if(typeof t!="function")throw new Error(`Component loader for type "${e}" not found`);if(o.has(e))l(i,o.get(e));else{const a=await t();l(i,a.default),o.set(e,m(i))}}catch(t){l(f,t)}finally{l(d,!1),await X()}}}function y(e){const t=()=>q(()=>import(`./${e}.svelte`),[],import.meta.url);s.set(e.toLowerCase(),t)}async function g(e){const t=e.toLowerCase();if(o.has(t))return o.get(t);let a=s.get(t);a||s.set(t,a);const T=(await a()).default;return o.set(t,T),T}async function C(e=[]){const t={};for(const a of e)try{const u=await g(a);t[a]=u}catch(u){console.error(`❌ Lỗi preload ${a}:`,u)}return t}R(async()=>{await C(["HomeDetail","ResultDetail"])}),D(()=>(N(r()),B),()=>{r(B[r()]||r())}),D(()=>N(r()),()=>{r()&&x(r())}),j();var P={registerComponent:h,unregisterComponent:w,unregisterComponentCache:b,loadComponentCache:v,registerComponentByName:y,loadComponentByName:g,preloadComponents:C};z();var L=F(),k=H(L);return O(k,n,"default",{get currentComponent(){return m(i)},get tabs(){return M()},get activeTabId(){return r()},get isLoading(){return m(d)},get error(){return m(f)},get id(){return I()}}),Q(E,L),c(n,"registerComponent",h),c(n,"unregisterComponent",w),c(n,"unregisterComponentCache",b),c(n,"loadComponentCache",v),c(n,"registerComponentByName",y),c(n,"loadComponentByName",g),c(n,"preloadComponents",C),V(P)}export{S as default};
//# sourceMappingURL=TabDetails2-_sN3vg7S.js.map
