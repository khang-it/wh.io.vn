{"version":3,"file":"auth-Bnw4wDBF.js","sources":["../../src/lib/actions/auth.js"],"sourcesContent":["// $lib/actions/auth.js\nimport ApiClient from '$lib/api';\nimport { user, accessToken } from '$lib/stores';\nimport { clearRefreshToken } from '$lib/db/indexeddb'; // üìå th√™m d√≤ng n√†y\n\nconst api = new ApiClient();\n\nexport async function logOut() {\n    try {\n        const data = await api.post('/auth/logout', {}, { withCredentials: true });\n\n        // Xo√° refresh token kh·ªèi IndexedDB\n        await clearRefreshToken();\n\n        user.set(null);\n        accessToken.set(null);\n\n        console.log('üîê Logged out + refresh token cleared');\n\n    } catch (err) {\n        console.error('üö® LOGOUT ERROR:', err);\n    }\n}\n"],"names":["api","ApiClient","logOut","data","clearRefreshToken","user","accessToken","err"],"mappings":"gEAKA,MAAMA,EAAM,IAAIC,EAET,eAAeC,GAAS,CAC3B,GAAI,CACA,MAAMC,EAAO,MAAMH,EAAI,KAAK,eAAgB,GAAI,CAAE,gBAAiB,GAAM,EAGzE,MAAMI,EAAiB,EAEvBC,EAAK,IAAI,IAAI,EACbC,EAAY,IAAI,IAAI,EAEpB,QAAQ,IAAI,uCAAuC,CAEvD,OAASC,EAAK,CACV,QAAQ,MAAM,mBAAoBA,CAAG,CACzC,CACJ"}